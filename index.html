<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>–ü–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏, –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞ | FreeGamerüéÆ</title>
<meta name="description" content="–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏ –∏–≥—Ä, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –±—ã–ª–∏ –ø–ª–∞—Ç–Ω—ã–º–∏. –ó–∞–±–∏—Ä–∞–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞ –≤ Epic Games, Steam –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö. –ü–ª—é—Å –ø–æ–¥–±–æ—Ä–∫–∞ —Å–∫–∏–¥–æ–∫ –Ω–∞ —Ö–æ—Ä–æ—à–∏–µ —Ç–∞–π—Ç–ª—ã.">
<meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">
<link rel="canonical" href="https://muertosa.github.io/free-games/">
<meta name="theme-color" content="#0a0c14">

<!-- Favicon -->
<link rel="icon" href="/free-games/favicon.ico" sizes="any">
<link rel="icon" type="image/png" sizes="32x32" href="/free-games/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/free-games/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/free-games/apple-touch-icon.png">
<link rel="manifest" href="/free-games/site.webmanifest">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62LT5H19BP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-62LT5H19BP');
</script>

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:title" content="–ü–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏, –∑–∞–±—Ä–∞—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞ | FreeGamerüéÆ">
<meta property="og:description" content="–†–∞–∑–¥–∞—á–∏ –ø–ª–∞—Ç–Ω—ã—Ö –∏–≥—Ä: —É—Å–ø–µ–π –∑–∞–±—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞. Epic Games, Steam –∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã.">
<meta property="og:url" content="https://muertosa.github.io/free-games/">
<meta property="og:site_name" content="FreeGamer">

<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="–ü–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏ | FreeGamerüéÆ">
<meta name="twitter:description" content="–†–∞–∑–¥–∞—á–∏ –ø–ª–∞—Ç–Ω—ã—Ö –∏–≥—Ä: –∑–∞–±–∏—Ä–∞–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞.">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700;900&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">

<!-- Schema.org (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "FreeGamer",
  "url": "https://muertosa.github.io/free-games/",
  "inLanguage": "ru",
  "description": "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏ –∏–≥—Ä, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –±—ã–ª–∏ –ø–ª–∞—Ç–Ω—ã–º–∏. –ó–∞–±–∏—Ä–∞–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞. –ü–ª—é—Å –ø–æ–¥–±–æ—Ä–∫–∞ —Å–∫–∏–¥–æ–∫ –Ω–∞ —Ö–æ—Ä–æ—à–∏–µ —Ç–∞–π—Ç–ª—ã.",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://muertosa.github.io/free-games/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0c14;--card:#151830;--border:rgba(255,255,255,0.06);--text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;--accent:#7c3aed;--accent2:#a78bfa;--glow:rgba(124,58,237,0.15)}
body.light{--bg:#f0f2f8;--card:#fff;--border:rgba(0,0,0,0.08);--text:#1e293b;--text2:#475569;--text3:#64748b;--glow:rgba(124,58,237,0.06)}
body{font-family:'Nunito',sans-serif;background:var(--bg);min-height:100vh;padding:24px 16px 60px;color:var(--text);transition:background .3s,color .3s}
.container{max-width:1360px;margin:0 auto}
.header{text-align:center;margin-bottom:28px}
.logo-row{display:flex;justify-content:center;align-items:center;gap:14px;margin-bottom:6px}
.logo{font-family:'Unbounded',sans-serif;font-size:clamp(26px,5vw,48px);font-weight:900;background:linear-gradient(135deg,#7c3aed,#a78bfa,#60a5fa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.logo-pad{display:inline-flex;align-items:center;justify-content:center;width:56px;height:56px;border-radius:16px;background:linear-gradient(135deg,rgba(124,58,237,.22),rgba(96,165,250,.14));border:1px solid var(--border);box-shadow:0 10px 34px rgba(124,58,237,.12);position:relative}
.logo-pad::after{content:"";position:absolute;inset:-18px;border-radius:22px;background:radial-gradient(circle,rgba(124,58,237,.22),transparent 65%);filter:blur(10px);opacity:.7;pointer-events:none}
.logo-pad span{font-size:28px;line-height:1;filter:drop-shadow(0 8px 18px rgba(124,58,237,.25))}
@media(max-width:640px){
  .logo-pad{width:46px;height:46px;border-radius:14px}
  .logo-pad span{font-size:24px}
}

.subtitle{font-size:14px;color:var(--text3);margin-bottom:12px}
.meta-row{display:flex;gap:8px;justify-content:center;align-items:center;flex-wrap:wrap}
.update-badge{display:inline-flex;align-items:center;gap:5px;padding:5px 14px;background:rgba(255,255,255,0.04);border-radius:50px;color:var(--text3);font-size:12px;border:1px solid var(--border)}
.sb{padding:3px 10px;border-radius:6px;font-size:11px;font-weight:700;display:none}
.sb-live{background:rgba(34,197,94,0.12);color:#4ade80;border:1px solid rgba(34,197,94,0.2)}
.sb-cache{background:rgba(251,191,36,0.10);color:#fbbf24;border:1px solid rgba(251,191,36,0.2)}
.sb-load{background:rgba(59,130,246,0.12);color:#60a5fa;border:1px solid rgba(59,130,246,0.2);animation:pulse 1.5s infinite}
.sb-err{background:rgba(239,68,68,0.12);color:#f87171;border:1px solid rgba(239,68,68,0.2)}
.main-nav{display:flex;gap:6px;justify-content:center;margin-bottom:24px;flex-wrap:wrap}
.nav-btn{padding:10px 24px;font-weight:800;font-size:14px;border-radius:10px;background:rgba(255,255,255,0.04);border:1px solid var(--border);color:var(--text2);cursor:pointer;font-family:inherit;transition:all .2s}
.nav-btn.on{background:linear-gradient(135deg,#6d28d9,#7c3aed);border-color:transparent;color:#fff;box-shadow:0 4px 20px rgba(124,58,237,0.3)}
.nav-btn:hover:not(.on){background:rgba(255,255,255,0.07)}
.nav-count{font-size:11px;opacity:.7;margin-left:6px;display:inline-flex;align-items:center;justify-content:center;min-width:18px;position:relative}
.nav-count.loading{opacity:.9}
.nav-count.loading::before{content:"";width:12px;height:12px;border-radius:50%;border:2px solid rgba(148,163,184,0.28);border-top-color:var(--accent2);animation:spin 0.9s linear infinite}
.controls{background:rgba(255,255,255,0.03);padding:16px;border-radius:14px;margin-bottom:16px;border:1px solid var(--border)}
.search-box{width:100%;padding:12px 16px;border:1px solid var(--border);border-radius:10px;font-size:14px;background:rgba(255,255,255,0.04);color:var(--text);font-family:inherit;outline:none;transition:border-color .2s;margin-bottom:12px}
.search-box:focus{border-color:rgba(124,58,237,0.5)}
.search-box::placeholder{color:var(--text3)}
body.light .search-box{background:#fff;border-color:#d1d5db}
.filter-row{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}
.fbtn{padding:6px 14px;background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:7px;color:var(--text3);cursor:pointer;font-weight:700;font-size:12px;font-family:inherit;transition:all .2s}
.fbtn.on{background:linear-gradient(135deg,#6d28d9,#7c3aed);border-color:transparent;color:#fff}
.fbtn:hover:not(.on){background:rgba(255,255,255,0.07)}
.sort-row{display:flex;gap:6px;justify-content:center;margin-top:10px;flex-wrap:wrap}
.sort-btn{padding:4px 12px;background:transparent;border:1px solid var(--border);border-radius:6px;color:var(--text3);cursor:pointer;font-weight:700;font-size:11px;font-family:inherit;transition:all .2s}
.sort-btn.on{color:var(--accent2);border-color:rgba(167,139,250,0.4)}
.deals-extra{margin-top:12px;padding-top:12px;border-top:1px solid var(--border)}
.range-group{display:flex;align-items:center;gap:10px;justify-content:center;margin-bottom:10px;flex-wrap:wrap}
.range-group label{font-size:12px;color:var(--text3);font-weight:700}
.range-group input[type=range]{width:120px;accent-color:var(--accent)}
.range-val{font-size:13px;font-weight:800;color:var(--accent2);min-width:40px}
.sub-tabs{display:flex;gap:6px;margin-bottom:16px;justify-content:center;flex-wrap:wrap}
.stab{padding:7px 18px;font-weight:700;font-size:13px;border-radius:8px;background:rgba(255,255,255,0.03);border:1px solid var(--border);color:var(--text3);cursor:pointer;font-family:inherit;transition:all .2s}
.stab.on{background:rgba(124,58,237,0.12);border-color:rgba(124,58,237,0.3);color:var(--accent2)}
.toolbar{display:flex;gap:6px;justify-content:center;flex-wrap:wrap;margin-bottom:16px}
.tool-btn{padding:6px 14px;background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:7px;color:var(--text3);cursor:pointer;font-weight:700;font-size:12px;font-family:inherit;transition:all .2s;display:inline-flex;align-items:center;gap:5px}
.tool-btn:hover{background:rgba(255,255,255,0.07);color:var(--text)}
.tiny-row{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:16px}
.chk{display:inline-flex;gap:6px;align-items:center;color:var(--text3);font-size:12px;background:rgba(255,255,255,0.03);border:1px solid var(--border);padding:6px 10px;border-radius:8px;cursor:pointer}
.chk input{accent-color:var(--accent)}
.stats{display:flex;justify-content:center;gap:10px;margin-bottom:24px;flex-wrap:wrap}
.stat-card{background:rgba(255,255,255,0.03);padding:14px 18px;border-radius:12px;text-align:center;border:1px solid var(--border);min-width:80px}
body.light .stat-card{background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
.stat-card.vc{border-color:rgba(34,197,94,0.1);background:rgba(34,197,94,0.03)}
.stat-card.sc{border-color:rgba(59,130,246,0.1);background:rgba(59,130,246,0.03)}
.sn{font-family:'Unbounded',sans-serif;font-size:22px;font-weight:900}
.sn.green{color:#4ade80}.sn.blue{color:#60a5fa}
.sl{font-size:10px;color:var(--text3);margin-top:3px;text-transform:uppercase;letter-spacing:.05em;font-weight:700}
.games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:18px;margin-bottom:32px}
.gc{background:var(--card);border-radius:14px;overflow:hidden;transition:transform .25s,box-shadow .25s;border:1px solid var(--border);position:relative;animation:fadeUp .4s ease-out backwards}
body.light .gc{box-shadow:0 2px 10px rgba(0,0,0,0.05)}
.gc:hover{transform:translateY(-5px);box-shadow:0 12px 40px var(--glow)}
.gc.xp{opacity:.45;filter:grayscale(.4)}.gc.end{border-color:rgba(239,68,68,0.25)}
.take-btn{position:absolute;top:8px;right:8px;width:36px;height:36px;border-radius:50%;border:1px solid rgba(255,255,255,0.1);background:rgba(0,0,0,0.5);backdrop-filter:blur(6px);cursor:pointer;z-index:5;display:flex;align-items:center;justify-content:center;color:var(--text3);font-weight:900;font-size:15px;transition:all .25s}
.take-btn:hover{transform:scale(1.1)}.take-btn.on{background:rgba(34,197,94,0.2);border-color:rgba(34,197,94,0.3);color:#4ade80}.take-btn.pop{animation:popIn .4s ease}
.gi{width:100%;height:175px;object-fit:cover;display:block;background:linear-gradient(135deg,#1a1540,#2d1b69)}
.gi-ph{width:100%;height:175px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:13px;font-weight:800;color:rgba(255,255,255,0.5);text-align:center;padding:14px;gap:6px}
.gi-ph::before{content:'üéÆ';font-size:32px;opacity:.4}
.gc-body{padding:16px}.gc-head{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;gap:10px}
.gc-title{font-family:'Unbounded',sans-serif;font-size:14px;font-weight:700;color:var(--text);line-height:1.3;flex:1}
.gc-badges{display:flex;flex-direction:column;gap:4px;align-items:flex-end;flex-shrink:0}
.badge{padding:2px 8px;border-radius:4px;font-size:9px;font-weight:800;text-transform:uppercase;white-space:nowrap}
.b-epic{background:rgba(59,130,246,0.12);color:#60a5fa;border:1px solid rgba(59,130,246,0.25)}
.b-steam{background:rgba(99,102,241,0.10);color:#a5b4fc;border:1px solid rgba(99,102,241,0.2)}
.b-gog{background:rgba(168,85,247,0.10);color:#c084fc;border:1px solid rgba(168,85,247,0.2)}
.b-itchio{background:rgba(245,101,101,0.10);color:#fca5a5;border:1px solid rgba(245,101,101,0.2)}
.b-other{background:rgba(148,163,184,0.10);color:#94a3b8;border:1px solid rgba(148,163,184,0.2)}
.b-hot{background:rgba(239,68,68,0.12);color:#fca5a5;border:1px solid rgba(239,68,68,0.2)}
.b-val{background:rgba(34,197,94,0.08);color:#4ade80;border:1px solid rgba(34,197,94,0.15)}
.b-taken{background:rgba(34,197,94,0.14);color:#4ade80;border:1px solid rgba(34,197,94,0.25)}
.b-new{background:rgba(251,191,36,0.12);color:#fbbf24;border:1px solid rgba(251,191,36,0.2);animation:pulse 2s infinite}
.b-expired{background:rgba(239,68,68,0.1);color:#f87171;border:1px solid rgba(239,68,68,0.2)}
.b-ending{background:rgba(251,146,60,0.12);color:#fb923c;border:1px solid rgba(251,146,60,0.2);animation:pulse 1.5s infinite}
.b-deal{background:rgba(124,58,237,0.12);color:var(--accent2);border:1px solid rgba(124,58,237,0.2)}
.gc-desc-wrap{margin-bottom:14px}
.gc-desc{color:var(--text3);font-size:12px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.gc.open .gc-desc{-webkit-line-clamp:unset;display:block;overflow:visible}
.desc-toggle{margin-top:8px;display:inline-flex;align-items:center;gap:6px;background:transparent;border:1px solid var(--border);color:var(--text2);padding:6px 10px;border-radius:8px;font-weight:800;font-size:11px;cursor:pointer;font-family:inherit;transition:all .2s}
.desc-toggle:hover{background:rgba(255,255,255,0.06);color:var(--text)}
.desc-toggle .arr{opacity:.8;display:inline-block;transition:transform .2s}
.gc.open .desc-toggle .arr{transform:rotate(180deg)}

.cd{background:rgba(239,68,68,0.06);padding:7px 10px;border-radius:7px;margin-bottom:12px;text-align:center;border:1px solid rgba(239,68,68,0.1)}
.cd-t{font-size:10px;color:#f87171;font-weight:700}.cd-v{font-size:14px;font-weight:900;color:#f87171;margin-top:2px;font-family:'Unbounded',sans-serif}
.cd.cde{background:rgba(251,146,60,0.08);border-color:rgba(251,146,60,0.15)}.cd.cde .cd-t,.cd.cde .cd-v{color:#fb923c}
.cd.cdx .cd-t,.cd.cdx .cd-v{color:#ef4444}
.gc-foot{display:flex;justify-content:space-between;align-items:center;padding-top:14px;border-top:1px solid var(--border);gap:10px}
.p-free{font-family:'Unbounded',sans-serif;font-size:16px;font-weight:900;background:linear-gradient(135deg,#4ade80,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.price-block{display:flex;flex-direction:column;align-items:flex-start;gap:2px}
.price-old{font-size:12px;color:var(--text3);text-decoration:line-through}
.price-new{font-family:'Unbounded',sans-serif;font-size:16px;font-weight:900;color:#4ade80}
.gc-link{padding:8px 18px;background:linear-gradient(135deg,#6d28d9,#7c3aed);color:#fff;text-decoration:none;border-radius:9px;font-weight:800;font-size:12px;transition:all .2s;white-space:nowrap;display:inline-flex;align-items:center;gap:5px}
.gc-link:hover{transform:scale(1.04);box-shadow:0 6px 20px rgba(124,58,237,0.35)}
.gc-link.dis{opacity:.4;pointer-events:none;background:#475569}
.pagination{display:flex;justify-content:center;gap:6px;margin:20px 0;flex-wrap:wrap}
.page-btn{padding:8px 14px;background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:8px;color:var(--text3);cursor:pointer;font-weight:700;font-size:13px;font-family:inherit;transition:all .2s}
.page-btn.on{background:linear-gradient(135deg,#6d28d9,#7c3aed);border-color:transparent;color:#fff}
.page-btn:hover:not(.on){background:rgba(255,255,255,0.07)}
.empty{text-align:center;padding:40px 20px;color:var(--text3);font-size:14px}
.sk-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:18px;margin-bottom:32px}
.sk-card{background:var(--card);border-radius:14px;overflow:hidden;border:1px solid var(--border)}
.sk-img{width:100%;height:175px;background:linear-gradient(90deg,rgba(255,255,255,0.02) 25%,rgba(255,255,255,0.06) 50%,rgba(255,255,255,0.02) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}
.sk-body{padding:16px}.sk-line{height:12px;border-radius:6px;background:linear-gradient(90deg,rgba(255,255,255,0.03) 25%,rgba(255,255,255,0.07) 50%,rgba(255,255,255,0.03) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;margin-bottom:8px}
.sk-line.w80{width:80%}.sk-line.w60{width:60%}.sk-line.w40{width:40%}
.src{text-align:center;padding:20px;color:var(--text3);font-size:11px}
.src a{color:var(--accent2);text-decoration:none}

/* SEO block (–≤–∞—Ä–∏–∞–Ω—Ç 1: —Å–Ω–∏–∑—É, –≤ —Ä–∞—Å–∫—Ä—ã–≤–∞—à–∫–µ) */
.seo.seo-down{max-width:980px;margin:18px auto 8px}
.seo-details{border:1px solid var(--border);border-radius:14px;background:rgba(255,255,255,0.03);padding:10px 14px}
body.light .seo-details{background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.04)}
.seo-sum{cursor:pointer;font-weight:800;color:var(--text);list-style:none;display:flex;align-items:center;gap:8px}
.seo-sum::-webkit-details-marker{display:none}
.seo-sum::before{content:"‚ÑπÔ∏è";opacity:.85}
.seo-body{margin-top:10px}
.seo-body h2{font-family:'Unbounded',sans-serif;font-size:14px;margin-bottom:8px;color:var(--text)}
.seo-body p{font-size:12px;line-height:1.6;color:var(--text2);margin:0 0 8px}
.seo-body p:last-child{margin-bottom:0}

.theme-toggle{position:fixed;top:14px;right:14px;width:40px;height:40px;border-radius:50%;border:1px solid var(--border);background:rgba(0,0,0,0.4);backdrop-filter:blur(8px);cursor:pointer;z-index:100;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .3s;color:#fbbf24}
body.light .theme-toggle{background:rgba(255,255,255,0.8);color:#6d28d9}
.theme-toggle:hover{transform:scale(1.1)}
.scroll-top{position:fixed;bottom:70px;right:14px;width:40px;height:40px;border-radius:50%;border:1px solid var(--border);background:rgba(124,58,237,0.25);backdrop-filter:blur(8px);cursor:pointer;z-index:100;display:flex;align-items:center;justify-content:center;font-size:16px;color:#fff;transition:all .3s;opacity:0;pointer-events:none}
.scroll-top.visible{opacity:1;pointer-events:auto}.scroll-top:hover{transform:scale(1.1);background:rgba(124,58,237,0.4)}
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(100px);background:var(--card);color:var(--text);padding:10px 20px;border-radius:10px;font-size:13px;font-weight:700;border:1px solid var(--border);z-index:1000;transition:transform .3s ease;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
.toast.show{transform:translateX(-50%) translateY(0)}.toast.t-ok{border-color:rgba(34,197,94,0.3)}.toast.t-err{border-color:rgba(239,68,68,0.3)}.toast.t-info{border-color:rgba(59,130,246,0.3)}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.55}}
@keyframes popIn{0%{transform:scale(.5)}50%{transform:scale(1.3)}100%{transform:scale(1)}}
@keyframes spin{to{transform:rotate(360deg)}}
@media(max-width:640px){
  body{padding:16px 8px 40px}
  .games-grid,.sk-grid{grid-template-columns:1fr;gap:14px}
  .sn{font-size:18px}
  .stat-card{padding:10px 14px;min-width:65px}
  .gc-title{font-size:12px}
  .theme-toggle{top:8px;right:8px;width:36px;height:36px;font-size:16px}
}
</style>
</head>

<body>
<button class="theme-toggle" id="themeBtn" title="–¢–µ–º–∞">üåô</button>
<button class="scroll-top" id="scrollBtn" title="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

<div class="container">
  <div class="header">
    <div class="logo-row">
      <div class="logo">FreeGamer</div>
      <div class="logo-pad" aria-hidden="true"><span>üéÆ</span></div>
    </div>
    <p class="subtitle">–ü–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–¥–∞—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ò –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ.</p>
    <div class="meta-row">
      <span class="update-badge">–û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="upTime"></span></span>
      <span class="sb sb-load" id="sBadge"></span>
    </div>
  </div>

  <div class="main-nav">
    <button class="nav-btn on" data-nav="free">üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ <span class="nav-count" id="navF">0</span></button>
    <button class="nav-btn" data-nav="deals">üè∑Ô∏è –°–∫–∏–¥–∫–∏ <span class="nav-count" id="navD">0</span></button>
  </div>

  <div id="secF">
    <div class="controls">
      <input type="text" class="search-box" id="fS" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
      <div class="filter-row" id="fFl"></div>
      <div class="sort-row">
        <button class="sort-btn on" data-fs="date">–ù–æ–≤—ã–µ</button>
        <button class="sort-btn" data-fs="value">–ü–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</button>
        <button class="sort-btn" data-fs="az">–ê-–Ø</button>
        <button class="sort-btn" data-fs="ending">–°–∫–æ—Ä–æ –∫–æ–Ω—á–∞—Ç—Å—è</button>
      </div>
    </div>

    <div class="sub-tabs">
      <button class="stab on" data-ft="active">–ê–∫—Ç–∏–≤–Ω—ã–µ (<span id="cA">0</span>)</button>
      <button class="stab" data-ft="taken">–ó–∞–±—Ä–∞–Ω–æ (<span id="cT">0</span>)</button>
      <button class="stab" data-ft="expired">–ò—Å—Ç—ë–∫—à–∏–µ (<span id="cE">0</span>)</button>
    </div>

    <div class="tiny-row">
      <label class="chk"><input type="checkbox" id="hT"> –°–∫—Ä—ã–≤–∞—Ç—å –∑–∞–±—Ä–∞–Ω–Ω—ã–µ</label>
    </div>

    <div class="toolbar">
      <button class="tool-btn" id="bRef">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
      <button class="tool-btn" id="bExp">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
      <button class="tool-btn" id="bImp">üì• –ò–º–ø–æ—Ä—Ç</button>
      <button class="tool-btn" id="bClr">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
    </div>

    <div class="stats" id="fSt"></div>
    <div id="fO"></div>
  </div>

  <div id="secD" style="display:none">
    <div class="controls">
      <input type="text" class="search-box" id="dS" placeholder="üîç –ü–æ–∏—Å–∫ —Å–∫–∏–¥–æ–∫...">
      <div class="filter-row" id="dFl"></div>

      <div class="deals-extra">
        <div class="range-group">
          <label>–°–∫–∏–¥–∫–∞ –æ—Ç:</label>
          <input type="range" id="rMn" min="5" max="95" value="50" step="5">
          <span class="range-val" id="rvMn">50%</span>
          <label>–¥–æ:</label>
          <input type="range" id="rMx" min="10" max="100" value="100" step="5">
          <span class="range-val" id="rvMx">100%</span>
        </div>

        <div class="range-group">
          <label>–ú–∞–∫—Å. —Ü–µ–Ω–∞:</label>
          <input type="range" id="rPr" min="0" max="60" value="60" step="5">
          <span class="range-val" id="rvPr">–õ—é–±–∞—è</span>
        </div>

        <div class="sort-row">
          <button class="sort-btn on" data-ds="savings">% –°–∫–∏–¥–∫–∏</button>
          <button class="sort-btn" data-ds="price">–ü–æ —Ü–µ–Ω–µ</button>
          <button class="sort-btn" data-ds="title">–ê-–Ø</button>
          <button class="sort-btn" data-ds="rating">–†–µ–π—Ç–∏–Ω–≥</button>
        </div>
      </div>
    </div>

    <div class="stats" id="dSt"></div>
    <div id="dO"></div>
    <div class="pagination" id="dPg"></div>
  </div>

  <!-- SEO-—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤–Ω–∏–∑ –∏ —Å–ø—Ä—è—Ç–∞–Ω –≤ –∞–∫–∫—É—Ä–∞—Ç–Ω—É—é —Ä–∞—Å–∫—Ä—ã–≤–∞—à–∫—É -->
  <section class="seo seo-down">
    <details class="seo-details">
      <summary class="seo-sum">–û —Å–∞–π—Ç–µ –∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</summary>
      <div class="seo-body">
        <h2>–ü–ª–∞—Ç–Ω—ã–µ –∏–≥—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞</h2>
        <p>–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–∞—á–∏ –∏–≥—Ä, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –ø—Ä–æ–¥–∞—é—Ç—Å—è –∑–∞ –¥–µ–Ω—å–≥–∏, –Ω–æ –Ω–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏. –≠—Ç–æ –Ω–µ –¥–µ–º–æ –∏ –Ω–µ free-to-play. –ï—Å–ª–∏ —É—Å–ø–µ—Ç—å –∑–∞–±—Ä–∞—Ç—å –∏–≥—Ä—É –≤ –ø–µ—Ä–∏–æ–¥ –∞–∫—Ü–∏–∏, –æ–Ω–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
        <p>–ú—ã —Å–æ–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (Epic Games, Steam –∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã). –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫–∏–¥–∫–∏, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤—ã–≥–æ–¥–Ω—É—é —Ü–µ–Ω—É, –∫–æ–≥–¥–∞ —Ä–∞–∑–¥–∞—á –º–∞–ª–æ.</p>
      </div>
    </details>
  </section>

  <div class="src">
    –î–∞–Ω–Ω—ã–µ:
    <a href="https://www.gamerpower.com" target="_blank" rel="noopener">GamerPower</a> ¬∑
    <a href="https://store.epicgames.com/ru/free-games" target="_blank" rel="noopener">Epic Games</a> ¬∑
    <a href="https://www.cheapshark.com" target="_blank" rel="noopener">CheapShark</a>
    <br>
    –°–∞–π—Ç –Ω–µ —Ä–∞–∑–¥–∞—ë—Ç –∏–≥—Ä—ã –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∫–ª—é—á–∏. –í—Å–µ —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã/—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–∫—Ü–∏–π.
  </div>
</div>

<div class="toast" id="toast"></div>
<input type="file" id="fileIn" accept=".json" style="display:none">

<script>
(function(){
'use strict';
var TITLE_BL='demo,trial,beta test,alpha test,playtest,starter pack,starter edition,free to play,free-to-play,f2p,dlc,expansion,season pass,battle pass,soundtrack,artbook,wallpaper,bonus content,cosmetic,skin pack,in-game,virtual currency,coin pack,loot box,loot crate,mystery box,coupon,discount,voucher,% off,reward,premium currency,add-on,map pack,character pack,weapon pack,costume pack,booster,subscription,membership,founders pack'.split(',');
var F2P_BL='fortnite,apex legends,warframe,dota 2,league of legends,valorant,genshin impact,counter-strike,cs2,csgo,team fortress 2,tf2,path of exile,destiny 2,lost ark,world of tanks,war thunder,world of warships,hearthstone,rocket league,fall guys,multiversus,the finals,xdefiant,overwatch 2,palworld,honkai,star rail,zenless zone zero,brawlhalla,smite,paladins,dauntless'.split(',');
var TYPE_BL=['loot','dlc','early access','beta','other'];
var RU_D={epic:'–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ Epic Games Store ‚Äî –∑–∞–±–µ—Ä–∏ –∏ –æ—Å—Ç–∞–≤—å –Ω–∞–≤—Å–µ–≥–¥–∞.',steam:'–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –≤ Steam ‚Äî –¥–æ–±–∞–≤—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω–∞–≤—Å–µ–≥–¥–∞.',gog:'–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ GOG ‚Äî DRM-free –∫–æ–ø–∏—è.',itchio:'–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ itch.io.',other:'–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è —Ä–∞–∑–¥–∞—á–∞ ‚Äî –∑–∞–±–µ—Ä–∏ —Å–µ–π—á–∞—Å.'};
var CSN={'1':'Steam','25':'Epic Games','7':'GOG','11':'Humble Store','3':'GreenManGaming','15':'Fanatical','8':'Origin','13':'Uplay'};

var sec='free',FG=[],DG=[],fTab='active',fFl='all',fSo='date',dFl='all',dSo='savings',dMn=50,dMx=100,dPr=60,dPg=0,DPP=30,taken={},theme='dark',dLoaded=false;

function $(id){return document.getElementById(id)}
function esc(s){var d=document.createElement('div');d.textContent=String(s||'');return d.innerHTML}

function setCountLoading(el){if(!el)return;el.classList.add('loading');el.textContent=''}
function setCount(el,val){if(!el)return;el.classList.remove('loading');el.textContent=String(val)}
var _tt;function toast(m,t){var e=$('toast');e.textContent=m;e.className='toast show'+(t?' t-'+t:'');clearTimeout(_tt);_tt=setTimeout(function(){e.classList.remove('show')},3000)}
function loadTk(){try{taken=JSON.parse(localStorage.getItem('gv_t')||'{}')}catch(e){taken={}}}
function saveTk(){try{localStorage.setItem('gv_t',JSON.stringify(taken))}catch(e){}}
function loadPr(){try{var p=JSON.parse(localStorage.getItem('gv_p')||'{}');if(p.fs)fSo=p.fs;if(p.ht)$('hT').checked=true;if(p.th)theme=p.th;if(p.dm)dMn=p.dm;if(p.dx)dMx=p.dx;if(p.dp!==undefined)dPr=p.dp;if(p.ds)dSo=p.ds}catch(e){}}
function savePr(){try{localStorage.setItem('gv_p',JSON.stringify({fs:fSo,ht:$('hT').checked,th:theme,dm:dMn,dx:dMx,dp:dPr,ds:dSo}))}catch(e){}}
function apTh(){document.body.classList.toggle('light',theme==='light');$('themeBtn').textContent=theme==='dark'?'üåô':'‚òÄÔ∏è'}

function safeFetch(url){return fetch(url).then(function(r){if(!r.ok)throw new Error(r.status);return r.json()})}
function pFetch(url){return safeFetch(url).catch(function(){return safeFetch('https://api.allorigins.win/raw?url='+encodeURIComponent(url))}).catch(function(){return safeFetch('https://corsproxy.io/?'+encodeURIComponent(url))})}

var TTL=25*6e4;
function cGet(k){try{var r=JSON.parse(localStorage.getItem(k));if(r&&Date.now()-r.t<TTL)return r.d}catch(e){}return null}
function cSet(k,d){try{localStorage.setItem(k,JSON.stringify({t:Date.now(),d:d}))}catch(e){}}
function showSB(t,tx){var b=$('sBadge');if(t==='hide'){b.style.display='none';return}b.style.display='inline-block';b.className='sb sb-'+t;b.textContent=tx}

function isReal(g){var t=(g.title||'').toLowerCase();for(var i=0;i<TITLE_BL.length;i++)if(t.indexOf(TITLE_BL[i])>=0)return false;for(var j=0;j<F2P_BL.length;j++)if(t===F2P_BL[j]||t.indexOf(F2P_BL[j])>=0)return false;if(g._rt){var rt=g._rt.toLowerCase();for(var k=0;k<TYPE_BL.length;k++)if(rt.indexOf(TYPE_BL[k])>=0)return false}if(g.worth<=0)return false;if(g._rs&&g._rs!=='Active')return false;return true}
function normT(t){return(t||'').toLowerCase().replace(/[‚Ñ¢¬Æ¬©]/g,'').replace(/[^a-z–∞-—è—ë0-9]/g,'')}
function pickDesc(){for(var i=0;i<arguments.length;i++){var v=arguments[i];if(v&&String(v).trim())return String(v).trim()}return''}
function isRuText(t){return/[–∞-—è—ë]/i.test(String(t||''))}
function needsRu(t){var s=String(t||'').trim();return!!s&&!isRuText(s)&&/[a-z]/i.test(s)}
function hashText(s){var h=0,t=String(s||'');for(var i=0;i<t.length;i++)h=((h<<5)-h)+t.charCodeAt(i),h|=0;return String(h)}
function trCached(text){if(!needsRu(text))return Promise.resolve(String(text||''));var key='gv_tr_'+hashText(text);var c=cGet(key);if(c)return Promise.resolve(c);var url='https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=ru&dt=t&q='+encodeURIComponent(text);return pFetch(url).then(function(r){var out='';try{if(Array.isArray(r)&&Array.isArray(r[0]))for(var i=0;i<r[0].length;i++)out+=r[0][i][0]||''}catch(e){}out=out?out.replace(/\s+/g,' ').trim():String(text||'');if(out)cSet(key,out);return out}).catch(function(){return String(text||'')})}
function withRuDesc(list){var jobs=[];for(var i=0;i<list.length;i++){(function(g){var src=pickDesc(g.desc,RU_D[g.store]||RU_D.other);jobs.push(trCached(src).then(function(txt){g.desc=pickDesc(txt,src)}))})(list[i])}return Promise.all(jobs).then(function(){return list}).catch(function(){return list})}
function nrm(g){return{id:g.id||'',title:g.title||'',desc:g.desc||'',img:g.img||'',url:g.url||'#',end:g.end||null,store:g.store||'other',worth:g.worth||0,hot:!!g.hot,ts:g.ts||Date.now(),_rt:g._rt||'',_rs:g._rs||''}}

function getSlug(g){try{var m=g.catalogNs&&g.catalogNs.mappings;if(m&&m.length)for(var i=0;i<m.length;i++)if(m[i].pageSlug&&m[i].pageSlug!=='[]')return m[i].pageSlug}catch(e){}try{var o=g.offerMappings;if(o&&o.length)for(var j=0;j<o.length;j++)if(o[j].pageSlug)return o[j].pageSlug}catch(e){}if(g.productSlug&&g.productSlug!=='[]'&&g.productSlug!=='null'&&g.productSlug.length>1)return g.productSlug;if(g.urlSlug&&g.urlSlug.length>1)return g.urlSlug;return''}
function fetchEpic(){return pFetch('https://store-site-backend-static-ipv4.ak.epicgames.com/freeGamesPromotions?locale=en-US&country=US&allowCountries=US').then(function(data){var el;try{el=data.data.Catalog.searchStore.elements}catch(e){return[]}var out=[];for(var i=0;i<el.length;i++){var g=el[i];if(!g.promotions)continue;var off=g.promotions.promotionalOffers||[];if(!off.length||!off[0].promotionalOffers||!off[0].promotionalOffers.length)continue;var o=off[0].promotionalOffers[0];var dp=100;try{dp=o.discountSetting.discountPercentage}catch(e){}if(dp!==0)continue;var orig=0,disc=-1;try{orig=g.price.totalPrice.originalPrice;disc=g.price.totalPrice.discountPrice}catch(e){}if(orig<=0||disc!==0)continue;var img='',ki=g.keyImages||[];for(var p=0;p<ki.length;p++)if(ki[p].type==='OfferImageWide'||ki[p].type==='DieselStoreFrontWide'||ki[p].type==='Thumbnail'){img=ki[p].url;break}if(!img&&ki.length)img=ki[0].url;var slug=getSlug(g),desc=pickDesc(g.description,g.shortDescription);
if(desc)desc=desc.replace(/<[^>]*>/g,' ').replace(/\s+/g,' ').trim();out.push(nrm({id:'ep-'+g.id,title:g.title||'',desc:desc,img:img,url:slug?'https://store.epicgames.com/ru/p/'+slug:'https://store.epicgames.com/ru/free-games',end:o.endDate,store:'epic',worth:orig/100,hot:true,ts:Date.now(),_rt:'game',_rs:'Active'}))}return out.filter(function(g){return g.title&&g.worth>0})})}
function mapSt(p){p=(p||'').toLowerCase();if(p.indexOf('epic')>=0)return'epic';if(p.indexOf('steam')>=0)return'steam';if(p.indexOf('gog')>=0)return'gog';if(p.indexOf('itch')>=0)return'itchio';return'other'}
function fetchGP(){return pFetch('https://www.gamerpower.com/api/giveaways?type=game&sort-by=value').then(function(d){if(!Array.isArray(d))return[];return d.filter(function(g){var p=(g.platforms||'').toLowerCase();return p.indexOf('pc')>=0||p.indexOf('steam')>=0||p.indexOf('epic')>=0||p.indexOf('gog')>=0||p.indexOf('itch')>=0||p.indexOf('drm')>=0}).map(function(g){var w=0;try{w=parseFloat(String(g.worth||'0').replace(/[^0-9.]/g,''))||0}catch(e){}var st=mapSt(g.platforms),desc=pickDesc(g.description,g.instructions);
if(desc)desc=desc.replace(/<[^>]*>/g,' ').replace(/\s+/g,' ').trim();return nrm({id:'gp-'+g.id,title:g.title,desc:desc,img:g.thumbnail||g.image||'',url:g.open_giveaway_url||g.gamerpower_url||'#',end:(g.end_date&&g.end_date!=='N/A')?g.end_date:null,store:st,worth:w,hot:w>15,ts:Date.now(),_rt:g.type||'',_rs:g.status||''})}).filter(function(g){return g.title&&isReal(g)})})}
function mergeG(){var args=[].slice.call(arguments),seen={};args.forEach(function(a){if(!Array.isArray(a))return;a.forEach(function(g){var k=g.store+':'+normT(g.title);var p=g.id.indexOf('ep-')===0?1:2;if(!seen[k]||p<seen[k].p)seen[k]={g:g,p:p}})});var r=[];Object.keys(seen).forEach(function(k){r.push(seen[k].g)});return r}

function isTk(id){return!!taken[id]}
function togTk(id){var btn=document.querySelector('.take-btn[data-id="'+id+'"]');if(taken[id]){delete taken[id];toast('–£–±—Ä–∞–Ω–æ','info')}else{var g=FG.find(function(x){return x.id===id});taken[id]={ts:Date.now(),w:g?g.worth:0};toast('‚úì –ó–∞–±—Ä–∞–Ω–æ!','ok')}if(btn){btn.classList.add('pop');setTimeout(function(){btn.classList.remove('pop')},400)}saveTk();updC();renF()}
window._T=togTk;
function getSav(){var t=0;Object.keys(taken).forEach(function(id){var w=taken[id].w||0;if(w>0)t+=w;else{var g=FG.find(function(x){return x.id===id});if(g&&g.worth>0)t+=g.worth}});return t}
function updC(){var a=FG.filter(function(g){return!isX(g)});$('cA').textContent=a.length;$('cT').textContent=Object.keys(taken).length;$('cE').textContent=FG.filter(function(g){return isX(g)}).length;setCount($('navF'),a.length)}
function cdF(end){if(!end)return null;try{var d=new Date(end).getTime()-Date.now();if(d<0)return{x:true,t:'–†–∞–∑–¥–∞—á–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å'};var dy=Math.floor(d/864e5),h=Math.floor(d%864e5/36e5),m=Math.floor(d%36e5/6e4),s=Math.floor(d%6e4/1e3);return{x:false,t:dy>0?dy+'–¥ '+h+'—á '+m+'–º':h+'—á '+m+'–º '+s+'—Å',ms:d,e:d<864e5}}catch(e){return null}}
function isX(g){return g.end?new Date(g.end).getTime()<Date.now():false}
function isEn(g){if(!g.end)return false;var d=new Date(g.end).getTime()-Date.now();return d>0&&d<864e5}
function isNw(g){return g.ts&&Date.now()-g.ts<48*36e5}
function imgE(el){el.style.display='none';var p=el.nextElementSibling;if(p)p.style.display='flex'}
window._I=imgE;
function skel(n){var h='<div class="sk-grid">';for(var i=0;i<(n||6);i++)h+='<div class="sk-card"><div class="sk-img"></div><div class="sk-body"><div class="sk-line w80"></div><div class="sk-line w60"></div><div class="sk-line w40"></div></div></div>';return h+'</div>'}

function fCard(g,i){
var tk=isTk(g.id),c=cdF(g.end),xp=isX(g),en=isEn(g);
var gr={'epic':'#1a1a2e,#16213e','steam':'#1b2838,#2a475e','gog':'#1a0a2e,#2d1b69','itchio':'#2e1a1a,#691b1b'}[g.store]||'#1a1540,#2d1b69';
var altTxt=g.title?(g.title+' ‚Äî —Ä–∞–∑–¥–∞—á–∞, –∑–∞–±—Ä–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ'):'–ò–≥—Ä–∞ ‚Äî —Ä–∞–∑–¥–∞—á–∞';
var imgH=g.img
?'<img src="'+esc(g.img)+'" class="gi" alt="'+esc(altTxt)+'" loading="lazy" referrerpolicy="no-referrer" onerror="_I(this)"><div class="gi-ph" style="display:none;background:linear-gradient(135deg,'+gr+')">'+esc(g.title)+'</div>'
:'<div class="gi-ph" style="background:linear-gradient(135deg,'+gr+')">'+esc(g.title)+'</div>';
var b='<span class="badge b-'+esc(g.store)+'">'+(g.store||'other').toUpperCase()+'</span>';
if(g.worth>0)b+='<span class="badge b-val">$'+g.worth.toFixed(0)+'</span>';
if(en&&!xp)b+='<span class="badge b-ending">‚ö° –°–ö–û–†–û</span>';
else if(isNw(g))b+='<span class="badge b-new">üÜï NEW</span>';
if(g.hot&&!xp)b+='<span class="badge b-hot">üî• HOT</span>';
if(xp)b+='<span class="badge b-expired">‚è∞ –ò–°–¢–ï–ö–õ–û</span>';
if(tk)b+='<span class="badge b-taken">‚úì –ó–ê–ë–†–ê–ù–û</span>';
var cdH='';
if(c){
if(c.x)cdH='<div class="cd cdx"><div class="cd-t">‚è∞</div><div class="cd-v">'+c.t+'</div></div>';
else cdH='<div class="cd'+(c.e?' cde':'')+'"><div class="cd-t">'+(c.e?'‚ö° –°–∫–æ—Ä–æ –∫–æ–Ω—á–∏—Ç—Å—è!':'‚è∞ –û—Å—Ç–∞–ª–æ—Å—å:')+'</div><div class="cd-v" data-end="'+g.end+'">'+c.t+'</div></div>'
}
var desc=pickDesc(g.desc,'–û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã –ø–æ—è–≤–∏—Ç—Å—è —Å–∫–æ—Ä–æ.');
return'<div class="gc'+(xp?' xp':'')+(en&&!xp?' end':'')+'" style="animation-delay:'+(i*.03)+'s"><button class="take-btn'+(tk?' on':'')+'" data-id="'+g.id+'" onclick="_T(\''+g.id+'\')">'+(tk?'‚úì':'Ôºã')+'</button>'+imgH+'<div class="gc-body"><div class="gc-head"><h3 class="gc-title">'+esc(g.title)+'</h3><div class="gc-badges">'+b+'</div></div><div class="gc-desc-wrap"><p class="gc-desc">'+esc(desc)+'</p>'+(desc&&desc.length>140?'<button class="desc-toggle" type="button" data-desc="'+g.id+'"><span class="txt">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</span><span class="arr">‚ñæ</span></button>':'')+'</div>'+cdH+'<div class="gc-foot"><div class="p-free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div><a href="'+esc(g.url)+'" target="_blank" rel="noopener" class="gc-link'+(xp?' dis':'')+'">'+(xp?'–ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å':'–ó–∞–±—Ä–∞—Ç—å ‚Üí')+'</a></div></div></div>'
}

function renF(){
var q=($('fS').value||'').toLowerCase();
var act=FG.filter(function(g){return!isX(g)}),exp=FG.filter(function(g){return isX(g)});
var list;
if(fTab==='taken')list=FG.filter(function(g){return isTk(g.id)});
else if(fTab==='expired')list=exp;
else{list=act.slice();if($('hT').checked)list=list.filter(function(g){return!isTk(g.id)})}
if(q)list=list.filter(function(g){return g.title.toLowerCase().indexOf(q)>=0||g.desc.toLowerCase().indexOf(q)>=0});
if(fFl!=='all')list=list.filter(function(g){return g.store===fFl});
var c=list.slice();
if(fSo==='value')c.sort(function(a,b){return(b.worth||0)-(a.worth||0)});
else if(fSo==='az')c.sort(function(a,b){return a.title.localeCompare(b.title)});
else if(fSo==='ending')c.sort(function(a,b){return(a.end?new Date(a.end).getTime():1/0)-(b.end?new Date(b.end).getTime():1/0)});
else c.sort(function(a,b){if(a.hot!==b.hot)return a.hot?-1:1;return(b.worth||0)-(a.worth||0)});
list=c;
var src=fTab==='expired'?exp:act,stores=[];
src.forEach(function(g){if(stores.indexOf(g.store)<0)stores.push(g.store)});
var fh='<button class="fbtn'+(fFl==='all'?' on':'')+'" data-ff="all">–í—Å–µ</button>';
stores.forEach(function(s){fh+='<button class="fbtn'+(fFl===s?' on':'')+'" data-ff="'+s+'">'+s.toUpperCase()+'</button>'});
$('fFl').innerHTML=fh;
document.querySelectorAll('[data-fs]').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-fs')===fSo)});
var tv=0;list.forEach(function(g){tv+=g.worth||0});
var sh='<div class="stat-card"><div class="sn">'+list.length+'</div><div class="sl">–ò–≥—Ä</div></div>';
if(tv>0)sh+='<div class="stat-card vc"><div class="sn green">$'+tv.toFixed(0)+'</div><div class="sl">–¶–µ–Ω–Ω–æ—Å—Ç—å</div></div>';
var sv=getSav();if(sv>0)sh+='<div class="stat-card sc"><div class="sn blue">$'+sv.toFixed(0)+'</div><div class="sl">üí∞ –°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ</div></div>';
$('fSt').innerHTML=sh;
if(list.length)$('fO').innerHTML='<div class="games-grid">'+list.map(fCard).join('')+'</div>';
else{
var m=fTab==='taken'?'üìã –û—Ç–º–µ—Ç—å—Ç–µ –∏–≥—Ä—ã –∫–Ω–æ–ø–∫–æ–π Ôºã':fTab==='expired'?'üì¶ –ù–µ—Ç –∏—Å—Ç—ë–∫—à–∏—Ö':'üîç –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ';
$('fO').innerHTML='<div class="empty">'+m+'</div>'
}
}

// DEALS
function fetchDeals(){
var sm={savings:'8',price:'3',title:'2',rating:'7'};
var url='https://www.cheapshark.com/api/1.0/deals?pageSize=60&pageNumber=0&onSale=1';
if(dFl!=='all')url+='&storeID='+dFl;
if(dPr<60)url+='&upperPrice='+dPr;
url+='&sortBy='+(sm[dSo]||'8');
return Promise.all([pFetch(url),pFetch(url.replace('pageNumber=0','pageNumber=1'))]).then(function(res){
var d1=Array.isArray(res[0])?res[0]:[],d2=Array.isArray(res[1])?res[1]:[];
var raw=d1.concat(d2),seen={};
DG=raw.filter(function(d){
var sv=parseFloat(d.savings)||0,sp=parseFloat(d.salePrice)||0;
if(sv<dMn||sv>dMx)return false;
if(dPr<60&&sp>dPr)return false;
if(sp<=0)return false;
var k=(d.title||'').toLowerCase()+d.storeID;
if(seen[k])return false;
seen[k]=true;
return true
}).map(function(d){
return{id:'cs-'+d.dealID,title:d.title||'',thumb:d.thumb||'',sale:parseFloat(d.salePrice)||0,normal:parseFloat(d.normalPrice)||0,pct:Math.round(parseFloat(d.savings)||0),rating:parseFloat(d.steamRatingPercent)||0,ratingText:d.steamRatingText||'',reviews:parseInt(d.steamRatingCount)||0,storeID:d.storeID,storeName:CSN[d.storeID]||'Store',meta:parseInt(d.metacriticScore)||0,url:'https://www.cheapshark.com/redirect?dealID='+d.dealID}
});
setCount($('navD'),DG.length);
return DG
})
}
function dCard(d,i){
var gr=d.storeName.indexOf('Steam')>=0?'#1b2838,#2a475e':d.storeName.indexOf('Epic')>=0?'#1a1a2e,#16213e':d.storeName.indexOf('GOG')>=0?'#1a0a2e,#2d1b69':'#1a1540,#2d1b69';
var altTxt=d.title?(d.title+' ‚Äî —Å–∫–∏–¥–∫–∞ '+d.pct+'%'):'–ò–≥—Ä–∞ ‚Äî —Å–∫–∏–¥–∫–∞';
var imgH=d.thumb
?'<img src="'+esc(d.thumb)+'" class="gi" alt="'+esc(altTxt)+'" loading="lazy" referrerpolicy="no-referrer" onerror="_I(this)"><div class="gi-ph" style="display:none;background:linear-gradient(135deg,'+gr+')">'+esc(d.title)+'</div>'
:'<div class="gi-ph" style="background:linear-gradient(135deg,'+gr+')">'+esc(d.title)+'</div>';
var b='<span class="badge b-deal">-'+d.pct+'%</span><span class="badge b-other">'+esc(d.storeName)+'</span>';
if(d.meta>0)b+='<span class="badge b-val">MC '+d.meta+'</span>';
if(d.rating>0)b+='<span class="badge b-val">üëç '+d.rating+'%</span>';
var desc=d.ratingText?(d.ratingText+(d.reviews?' ('+d.reviews.toLocaleString()+' –æ—Ç–∑—ã–≤–æ–≤)':'')):'–°–∫–∏–¥–∫–∞ '+d.pct+'% –≤ '+d.storeName;
return'<div class="gc" style="animation-delay:'+(i*.03)+'s">'+imgH+'<div class="gc-body"><div class="gc-head"><h3 class="gc-title">'+esc(d.title)+'</h3><div class="gc-badges">'+b+'</div></div><p class="gc-desc">'+esc(desc)+'</p><div class="gc-foot"><div class="price-block"><span class="price-old">$'+d.normal.toFixed(2)+'</span><span class="price-new">$'+d.sale.toFixed(2)+'</span></div><a href="'+esc(d.url)+'" target="_blank" rel="noopener" class="gc-link">–ö—É–ø–∏—Ç—å ‚Üí</a></div></div></div>'
}
function renD(){
var q=($('dS').value||'').toLowerCase();
var list=DG.slice();
if(q)list=list.filter(function(d){return d.title.toLowerCase().indexOf(q)>=0});
var sids={};DG.forEach(function(d){sids[d.storeID]=d.storeName});
var sfh='<button class="fbtn'+(dFl==='all'?' on':'')+'" data-df="all">–í—Å–µ</button>';
Object.keys(sids).forEach(function(id){sfh+='<button class="fbtn'+(dFl===id?' on':'')+'" data-df="'+id+'">'+esc(sids[id])+'</button>'});
$('dFl').innerHTML=sfh;
document.querySelectorAll('[data-ds]').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-ds')===dSo)});
var sh='<div class="stat-card"><div class="sn">'+list.length+'</div><div class="sl">–°–∫–∏–¥–æ–∫</div></div>';
if(list.length){var avg=Math.round(list.reduce(function(s,d){return s+d.pct},0)/list.length);sh+='<div class="stat-card vc"><div class="sn green">'+avg+'%</div><div class="sl">–°—Ä. —Å–∫–∏–¥–∫–∞</div></div>'}
$('dSt').innerHTML=sh;
var tp=Math.max(1,Math.ceil(list.length/DPP));if(dPg>=tp)dPg=tp-1;
var pg=list.slice(dPg*DPP,(dPg+1)*DPP);
if(pg.length)$('dO').innerHTML='<div class="games-grid">'+pg.map(dCard).join('')+'</div>';
else $('dO').innerHTML='<div class="empty">üîç –°–∫–∏–¥–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
if(list.length>DPP){
var ph='';
if(dPg>0)ph+='<button class="page-btn" data-dp="'+(dPg-1)+'">‚Üê –ù–∞–∑–∞–¥</button>';
for(var p=Math.max(0,dPg-2);p<=Math.min(tp-1,dPg+2);p++)ph+='<button class="page-btn'+(p===dPg?' on':'')+'" data-dp="'+p+'">'+(p+1)+'</button>';
if(dPg<tp-1)ph+='<button class="page-btn" data-dp="'+(dPg+1)+'">–î–∞–ª–µ–µ ‚Üí</button>';
$('dPg').innerHTML=ph
}else $('dPg').innerHTML=''
}

function loadF(force){
showSB('load','‚è≥ –∑–∞–≥—Ä—É–∑–∫–∞...');
setCountLoading($('navF'));
if(!force){
var c=cGet('gv_f');
if(c&&c.length){FG=c.map(nrm);showSB('cache','üì¶ –∫—ç—à');updC();renF()}
}
Promise.all([fetchGP().catch(function(){return[]}),fetchEpic().catch(function(){return[]})]).then(function(r){
var gp=r[0]||[],ep=r[1]||[];
if(gp.length||ep.length){
FG=mergeG(ep,gp);
withRuDesc(FG).then(function(){
cSet('gv_f',FG);
showSB('live','‚úÖ LIVE');
toast('‚úÖ '+FG.length+' –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∏–≥—Ä','ok');
$('upTime').textContent=new Date().toLocaleString('ru-RU');
updC();renF()
})
}else{
if(!FG.length)showSB('err','‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ');
$('upTime').textContent=new Date().toLocaleString('ru-RU');
updC();renF()
}
})
}
function loadD(force){
showSB('load','‚è≥ —Å–∫–∏–¥–∫–∏...');
setCountLoading($('navD'));
if(!force&&dLoaded){renD();showSB('hide');return}
if(!force){
var c=cGet('gv_d');
if(c&&c.length){DG=c;$('navD').textContent=c.length;renD();showSB('cache','üì¶ –∫—ç—à');dLoaded=true;return}
}
$('dO').innerHTML=skel(6);
fetchDeals().then(function(){
cSet('gv_d',DG);
showSB('live','‚úÖ LIVE');
toast('üè∑Ô∏è '+DG.length+' —Å–∫–∏–¥–æ–∫','ok');
dLoaded=true;renD()
}).catch(function(){
if(!DG.length){
showSB('err','‚ùå –û—à–∏–±–∫–∞');
$('dO').innerHTML='<div class="empty">‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å.</div>'
}
})
}
function primeDealsCount(){
var c=cGet('gv_d');
if(c&&c.length){DG=c;setCount($('navD'),c.length);dLoaded=true}
fetchDeals().then(function(){cSet('gv_d',DG);dLoaded=true}).catch(function(){if(c&&c.length){DG=c;setCount($('navD'),c.length);dLoaded=true}})
}
function switchS(s){
sec=s;
document.querySelectorAll('.nav-btn').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-nav')===s)});
$('secF').style.display=s==='free'?'block':'none';
$('secD').style.display=s==='deals'?'block':'none';
if(s==='deals')loadD(false);else showSB('hide')
}
function updTm(){
document.querySelectorAll('.cd-v[data-end]').forEach(function(el){
var c=cdF(el.getAttribute('data-end'));
if(c&&!c.x)el.textContent=c.t;
else if(c&&c.x){el.textContent='–ó–∞–∫–æ–Ω—á–∏–ª–∞—Å—å';var p=el.closest('.cd');if(p)p.className='cd cdx'}
})
}

document.addEventListener('click',function(e){
var dt=e.target.closest('[data-desc]');
if(dt){
  var card=dt.closest('.gc');
  if(card){
    var open=card.classList.toggle('open');
    var t=dt.querySelector('.txt');
    if(t)t.textContent=open?'–°–≤–µ—Ä–Ω—É—Ç—å':'–ü–æ–¥—Ä–æ–±–Ω–µ–µ';
  }
  return;
}

var n=e.target.closest('[data-nav]');if(n){switchS(n.getAttribute('data-nav'));return}
var ff=e.target.closest('[data-ff]');if(ff){fFl=ff.getAttribute('data-ff');renF();return}
var fs=e.target.closest('[data-fs]');if(fs){fSo=fs.getAttribute('data-fs');savePr();renF();return}
var ft=e.target.closest('[data-ft]');if(ft){fTab=ft.getAttribute('data-ft');fFl='all';document.querySelectorAll('.stab').forEach(function(b){b.classList.toggle('on',b.getAttribute('data-ft')===fTab)});renF();return}
var df=e.target.closest('[data-df]');if(df){dFl=df.getAttribute('data-df');dPg=0;dLoaded=false;loadD(true);return}
var ds=e.target.closest('[data-ds]');if(ds){dSo=ds.getAttribute('data-ds');dPg=0;savePr();dLoaded=false;loadD(true);return}
var dp=e.target.closest('[data-dp]');if(dp){dPg=parseInt(dp.getAttribute('data-dp'));renD();$('dSt').scrollIntoView({behavior:'smooth',block:'start'});return}
});
$('fS').addEventListener('input',renF);
$('dS').addEventListener('input',function(){dPg=0;renD()});
$('hT').addEventListener('change',function(){savePr();renF()});
$('themeBtn').addEventListener('click',function(){theme=theme==='dark'?'light':'dark';apTh();savePr()});
$('rMn').addEventListener('input',function(){dMn=+this.value;if(dMn>=dMx){dMx=Math.min(100,dMn+5);$('rMx').value=dMx;$('rvMx').textContent=dMx+'%'}$('rvMn').textContent=dMn+'%';savePr()});
$('rMx').addEventListener('input',function(){dMx=+this.value;if(dMx<=dMn){dMn=Math.max(5,dMx-5);$('rMn').value=dMn;$('rvMn').textContent=dMn+'%'}$('rvMx').textContent=dMx+'%';savePr()});
$('rPr').addEventListener('input',function(){dPr=+this.value;$('rvPr').textContent=dPr>=60?'–õ—é–±–∞—è':'$'+dPr;savePr()});
$('rMn').addEventListener('change',function(){dPg=0;dLoaded=false;loadD(true)});
$('rMx').addEventListener('change',function(){dPg=0;dLoaded=false;loadD(true)});
$('rPr').addEventListener('change',function(){dPg=0;dLoaded=false;loadD(true)});
$('bRef').addEventListener('click',function(){if(sec==='free')loadF(true);else{dLoaded=false;loadD(true)}});
$('bExp').addEventListener('click',function(){var d={v:2,date:new Date().toISOString(),taken:taken};var b=new Blob([JSON.stringify(d,null,2)],{type:'application/json'});var u=URL.createObjectURL(b);var a=document.createElement('a');a.href=u;a.download='gamevault-'+new Date().toISOString().slice(0,10)+'.json';a.click();URL.revokeObjectURL(u);toast('üì§ –≠–∫—Å–ø–æ—Ä—Ç: '+Object.keys(taken).length,'ok')});
$('bImp').addEventListener('click',function(){$('fileIn').click()});
$('fileIn').addEventListener('change',function(e){if(!e.target.files[0])return;var r=new FileReader();r.onload=function(ev){try{var d=JSON.parse(ev.target.result);if(d.taken){var a=0;Object.keys(d.taken).forEach(function(id){if(!taken[id]){taken[id]=d.taken[id];a++}});saveTk();updC();renF();toast('üì• +'+a+' –∏–≥—Ä','ok')}else toast('‚ùå –§–æ—Ä–º–∞—Ç','err')}catch(er){toast('‚ùå –û—à–∏–±–∫–∞','err')}};r.readAsText(e.target.files[0]);e.target.value=''});
$('bClr').addEventListener('click',function(){if(!Object.keys(taken).length){toast('–ü—É—Å—Ç–æ','info');return}if(confirm('–û—á–∏—Å—Ç–∏—Ç—å? ('+Object.keys(taken).length+')')){taken={};saveTk();updC();renF();toast('üóëÔ∏è –û—á–∏—â–µ–Ω–æ','info')}});
window.addEventListener('scroll',function(){$('scrollBtn').classList.toggle('visible',window.scrollY>400)});
$('scrollBtn').addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'})});

loadTk();loadPr();apTh();
$('rMn').value=dMn;$('rvMn').textContent=dMn+'%';$('rMx').value=dMx;$('rvMx').textContent=dMx+'%';$('rPr').value=dPr;$('rvPr').textContent=dPr>=60?'–õ—é–±–∞—è':'$'+dPr;
$('upTime').textContent=new Date().toLocaleString('ru-RU');
$('fO').innerHTML=skel(6);
setCountLoading($('navF'));
setCountLoading($('navD'));
loadF(false);
primeDealsCount();
setInterval(updTm,1000);
})();
</script>
</body>
</html>
